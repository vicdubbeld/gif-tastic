<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>GifTasticness</title>
</head>

<body>

    <div class="container">
        <h1>Gif City</h1>

        <form id="gif-form">
            <label for="gif-input">Search Gifs here</label>
            <input type="text" id="gif-input">
        </form>

        <button id="sports-button">Search</button>
        <div id="gifs-view">
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script type="text/javascript">

            // click function
            $("#sports-button").on("click", function () {

                // storing giphy api url for random sports image
                var sports = ["Football", "Swimming", "Hockey", "Golf"];

                // 
                // var sport = $(this).attr("data-name");
                // var queryURL = ""
                var queryURL = "https://api.giphy.com/v1/gifs/search?q=" + 
                sports + "&api_key=xraabs6ZttBG3Zzj8Vcbpv7mZW5uMFnh";
                // url.done(function (data) { console.log("success got data", data); });

                // AJAX GET request to queryURL
                $.ajax({
                    url: queryURL,
                    method: "GET"
                })

                    // when there is a response...
                    .then(function (response) {

                        var results = response.data;

                        for (var i = 0; i < results.length; i++) {
                        if (results[i].rating !== "r" && results[i].rating !== "pg-13") {
                            var gifDiv = $("<div>");

                            var rating = results[i].rating;

                            var p = $("<p>").text("rating: " + rating);

                                var sportsImage = $("<img>");

                                sportsImage.attr("src", results[i].images.fixed_height.url);

                                gifDiv.append(p);
                                gifDiv.append(sportsImage);

                                $("#gifs-view").prepend(gifDiv);
                        }

                        // // saving image 
                        // var imageUrl = response.data.image_original_url;

                        // // holds sports gifs
                        // var sportsImage = $("<img>");

                        // // attribution
                        // sportsImage.attr("src", imageUrl);
                        // sportsImage.attr("alt", "sports image");

                        // // prepending
                        // $("#gifs-view").prepend(sportsImage);


                    }
                })


            });




        </script>
    </div>
</body>

</html>